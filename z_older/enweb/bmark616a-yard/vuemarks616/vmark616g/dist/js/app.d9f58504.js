(function(t){function e(e){for(var s,a,i=e[0],l=e[1],c=e[2],p=0,d=[];p<i.length;p++)a=i[p],n[a]&&d.push(n[a][0]),n[a]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],s=!0,i=1;i<r.length;i++){var l=r[i];0!==n[l]&&(s=!1)}s&&(o.splice(e--,1),t=a(a.s=r[0]))}return t}var s={},n={app:0},o=[];function a(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=s,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(r,s,function(e){return t[e]}.bind(null,s));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var s=r("64a9"),n=r.n(s);n.a},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("097d");var s=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("nav",{staticClass:"navbar navbar-expand-sm bg-dark navbar-dark"},[r("ul",{staticClass:"navbar-nav"},[r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:"/"}},[t._v("Home")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:"/create"}},[t._v("Create Post")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:"/posts"}},[t._v("Posts")])],1),r("li",{staticClass:"nav-item"},[r("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[t._v("Login")])],1),r("li",{staticClass:"nav-item"},[r("a",{staticClass:"nav-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("Logouut")])]),r("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("  - -")]),r("p",{staticClass:"navbar-text justify-content-end "},[t._v("[ "+t._s(this.activeUsername)+" ]")])])]),r("br"),r("router-view")],1)},o=[],a=(r("96cf"),r("1da1")),i={name:"app",data:function(){return{activeUser:null,jwtusername:null}},created:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.refreshActiveUser();case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),watch:{$route:"refreshActiveUser"},methods:{login:function(){this.$router.push("/Login")},refreshActiveUser:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.activeUser=localStorage.getItem("jwtToken"),this.activeUsername=localStorage.getItem("jwtusername");case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),logout:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:localStorage.removeItem("jwtToken"),localStorage.removeItem("jwtusername"),this.$router.push("/");case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}},l=i,c=(r("034f"),r("2877")),u=Object(c["a"])(l,n,o,!1,null,null,null);u.options.__file="App.vue";var p=u.exports,d=(r("ab8b"),r("8c4f")),m=r("a7fe"),v=r.n(m),f=r("bc3a"),h=r.n(f),g=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},b=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"row justify-content-center"},[r("div",{staticClass:"col-md-8"},[r("div",{staticClass:"card card-default"},[r("div",{staticClass:"card-header"},[t._v("Home Component")]),r("div",{staticClass:"card-body"},[t._v("\n                vmark616g\n            ")])])])])}],_={},w=_,C=Object(c["a"])(w,g,b,!1,null,null,null);C.options.__file="HomeComponent.vue";var y=C.exports,k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("Create A Post")]),r("form",{on:{submit:function(e){return e.preventDefault(),t.addPost(e)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group"},[r("label",[t._v("Post Title:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.post.title,expression:"post.title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.post.title},on:{input:function(e){e.target.composing||t.$set(t.post,"title",e.target.value)}}})])])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group"},[r("label",[t._v("Post Body:")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.post.body,expression:"post.body"}],staticClass:"form-control",attrs:{rows:"5"},domProps:{value:t.post.body},on:{input:function(e){e.target.composing||t.$set(t.post,"body",e.target.value)}}})])])]),r("br"),t._m(0)])])},x=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form-group"},[r("button",{staticClass:"btn btn-primary"},[t._v("Create")])])}],P={data:function(){return{post:{}}},created:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.accessToken=localStorage.getItem("jwtToken"),console.log(this.accessToken),this.accessToken||this.$router.push({name:"Login"});case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),methods:{addPost:function(){var t=this;this.accessToken=localStorage.getItem("jwtToken");var e="".concat("https://devdj.198.23.238.244.nip.io","/blogapp/api/v1/Post/");this.axios({method:"post",url:e,data:this.post,headers:{Authorization:"Bearer ".concat(this.accessToken)}}).then(function(t){console.log(t)}).catch(function(t){console.log(t)}).then(function(){t.$router.push({name:"posts"})})}}},j=P,$=Object(c["a"])(j,k,x,!1,null,null,null);$.options.__file="CreateComponent.vue";var E=$.exports,O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("div",{staticClass:"row"},[t._m(0),r("div",{staticClass:"col-md-2"},[r("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"create"}}},[t._v("Create Post")])],1)]),r("br"),r("table",{staticClass:"table table-hover"},[t._m(1),r("tbody",t._l(t.posts,function(e){return r("tr",{key:e._id},[r("td",[t._v(t._s(e.title))]),r("td",[t._v(t._s(e.body))]),r("td",[r("router-link",{staticClass:"btn btn-primary",attrs:{to:{name:"edit",params:{id:e.id}}}},[t._v("Edit")])],1),r("td",[r("button",{staticClass:"btn btn-danger",on:{click:function(r){r.preventDefault(),t.deletePost(e._id)}}},[t._v("Delete")])])])}))])])},S=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"col-md-10"},[r("h3",[t._v("Posts")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v("Title")]),r("th",[t._v("Body")]),r("th",[t._v("Actions")])])])}],R={data:function(){return{posts:[]}},created:function(){var t=this;this.accessToken=localStorage.getItem("jwtToken");var e="".concat("https://devdj.198.23.238.244.nip.io","/blogapp/api/v1/Post/");this.axios({method:"get",url:e,headers:{Authorization:"Bearer ".concat(this.accessToken)}}).then(function(e){t.posts=e.data.results}).then(function(t){console.log(t)}).catch(function(t){console.log(t)}).then(function(){t.$router.push({name:"posts"})})},methods:{deletePost:function(t){var e=this,r="http://localhost:4000/posts/delete/".concat(t);this.axios.delete(r).then(function(r){e.posts.splice(e.posts.indexOf(t),1)})}}},T=R,U=Object(c["a"])(T,O,S,!1,null,null,null);U.options.__file="IndexComponent.vue";var A=U.exports,L=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("Edit Post")]),r("form",{on:{submit:function(e){return e.preventDefault(),t.updatePost(e)}}},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group"},[r("label",[t._v("Post Title: ")]),r("input",{directives:[{name:"model",rawName:"v-model",value:t.post.title,expression:"post.title"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.post.title},on:{input:function(e){e.target.composing||t.$set(t.post,"title",e.target.value)}}})])])]),r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-6"},[r("div",{staticClass:"form-group"},[r("label",[t._v("Post Body: ")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.post.body,expression:"post.body"}],staticClass:"form-control",attrs:{rows:"5"},domProps:{value:t.post.body},on:{input:function(e){e.target.composing||t.$set(t.post,"body",e.target.value)}}})])])]),r("br"),t._m(0)])])},I=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"form-group"},[r("button",{staticClass:"btn btn-primary"},[t._v("Update")])])}],N={data:function(){return{post:{}}},created:function(){var t=this,e="http://localhost:4000/posts/edit/".concat(this.$route.params.id);this.axios.get(e).then(function(e){t.post=e.data})},methods:{updatePost:function(){var t=this,e="http://localhost:4000/posts/update/".concat(this.$route.params.id);this.axios.post(e,this.post).then(function(){t.$router.push({name:"posts"})})}}},D=N,B=Object(c["a"])(D,L,I,!1,null,null,null);B.options.__file="EditComponent.vue";var z=B.exports,H=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h2",[t._v("Please Login")]),t.t_errors&&t.t_errors.length?r("ul",t._l(t.t_errors,function(e){return r("li",{key:e},[r("alert",{attrs:{show:""}},[t._v(t._s(e.message))])],1)})):t._e(),r("form",{staticClass:"form-signin"},[r("label",{staticClass:"sr-only",attrs:{for:"inputEmail"}},[t._v("User")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.username,expression:"username",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"username",id:"inputEmail",placeholder:"user",required:"",autofocus:""},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),r("br"),r("label",{staticClass:"sr-only",attrs:{for:"inputPassword"}},[t._v("Password")]),r("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"password",id:"inputPassword",placeholder:"Password",required:""},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),r("br"),r("button",{attrs:{type:"submit",variant:"primary"},on:{click:t.onSubmit}},[t._v("Login")]),t._v("   \n\n    "),r("br"),r("br"),r("br"),r("button",{attrs:{type:"button",variant:"success"},on:{click:function(e){e.stopPropagation(),t.register()}}},[t._v("Register")])]),r("br")])},q=[],M=(r("7f7f"),{name:"Login",data:function(){return{username:"",password:"",login:{},t_errors:[],state:""}},methods:{lastRouteName:function(){var t="",e=this.$router.history.stack,r=this.$router.history.index;return r>0&&(t=e[r-1].name),t},onSubmit:function(t){var e=this;t.preventDefault(),console.log(this.username),h.a.post("".concat("https://devdj.198.23.238.244.nip.io","/api/token/"),{username:this.username,password:this.password}).then(function(t){localStorage.setItem("jwtToken",t.data.access),localStorage.setItem("jwtusername",e.username),console.log(e.$router.history),e.$router.push({name:"create"})}).catch(function(t){console.log(t),e.t_errors.push(t)})},register:function(){this.$router.push({name:"Register"})}}}),J=M,V=Object(c["a"])(J,H,q,!1,null,null,null);V.options.__file="Login.vue";var K=V.exports,F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",{staticClass:"justify-content-md-center"},[r("b-col",{attrs:{cols:"6"}},[r("h3",[t._v("Please Register")]),r("hr"),r("hr"),r("hr"),r("h2",[t._v("Register is currently not active.")]),r("hr"),r("hr"),r("hr"),t.t_errors&&t.t_errors.length?r("ul",t._l(t.t_errors,function(e){return r("li",{key:e},[r("b-alert",{attrs:{show:""}},[t._v(t._s(e.message))])],1)})):t._e(),r("b-form",{on:{submit:t.onSubmit}},[r("b-form-group",{attrs:{id:"fieldsetHorizontal",horizontal:"","label-cols":4,breakpoint:"md",label:"Enter Username"}},[r("b-form-input",{attrs:{id:"username",state:t.state},model:{value:t.register.username,callback:function(e){t.$set(t.register,"username","string"===typeof e?e.trim():e)},expression:"register.username"}})],1),r("b-form-group",{attrs:{id:"fieldsetHorizontal",horizontal:"","label-cols":4,breakpoint:"md",label:"Enter Password"}},[r("b-form-input",{attrs:{type:"password",id:"password",state:t.state},model:{value:t.register.password,callback:function(e){t.$set(t.register,"password","string"===typeof e?e.trim():e)},expression:"register.password"}})],1),r("span",[t._v(" ")]),r("span",[t._v(" ")]),r("span",[t._v(" ")]),r("b-button",{staticClass:"float-right",attrs:{type:"button",variant:"success"},on:{click:function(e){t.$router.go(-1)}}},[t._v("Cancel")])],1)],1)],1)},G=[],Q={name:"Register",data:function(){return{register:{},t_errors:[],state:""}},methods:{onSubmit:function(t){var e=this;t.preventDefault(),h.a.post("".concat("https://devdj.198.23.238.244.nip.io","/users/sign_up.json"),this.register).then(function(t){localStorage.setItem("register_response",t.data),alert("Registered successfully"),e.$router.push({name:"Login"})}).catch(function(t){console.log(t),e.errors.push(t)})}}},W=Q,X=Object(c["a"])(W,F,G,!1,null,null,null);X.options.__file="Register.vue";var Y=X.exports;s["a"].use(d["a"]),s["a"].use(v.a,h.a),s["a"].config.productionTip=!1;var Z=[{name:"home",path:"/",component:y},{name:"create",path:"/create",component:E,meta:{requiresAuth:!0}},{name:"posts",path:"/posts",component:A,meta:{requiresAuth:!0}},{name:"edit",path:"/edit/:id",component:z},{path:"/login",name:"Login",component:K},{path:"/register",name:"Register",component:Y}],tt=new d["a"]({mode:"history",routes:Z});new s["a"](s["a"].util.extend({router:tt},p)).$mount("#app"),console.log("~20 main env"),console.log(JSON.stringify(Object({NODE_ENV:"production",VUE_APP_BACKEND_URL:"https://devdj.198.23.238.244.nip.io",BASE_URL:"/"}),null,2))},"64a9":function(t,e,r){}});
//# sourceMappingURL=app.d9f58504.js.map